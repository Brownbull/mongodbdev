<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Page Title</title>
</head>
<body>
  <button>click!</button>
  
  <script>
    startGame = () => {
          // console.log("game started");
      let counter = 0

      document.querySelector('button').addEventListener('click', () => {
        ++counter
      })

      return new Promise((res, err) => {
        setTimeout(() => {
          if (counter > 5) {
            res()
          } else {
            err()
          }
        }, 2000)
      })
      // setTimeout(() => {
      //   if (counter > 5) {
      //     alert("you won with " + counter + " clicks!")
      //   } else {
      //     alert("you loose with " + counter + " clicks!")
      //   }
      // }, 2000)
    } // eof startGame

    startGame()
      .then(() => alert("You Win!"))
      .catch(() => alert("You lost!"))
  </script>
</body>
</html>